{% extends "base.html" %}
{% block content %}


<script>
  $(document).ready(function() {
    $('.ui.sidebar').sidebar('attach events', '.launch.button');
    $('#login-button').on('click', function(){
      $("form").submit()
    });

    $('input').keyup(function(e){
        event.preventDefault();
        if (e.keyCode == 13) {
          $("form").submit();  
        }
    });
  });
  </script>


<div class="ui info attached message">
  <i class="close icon"></i>
  <div class="header">
    用户注册
  </div>
  <ul class="list">
    <li>只能由root用户创建其他用户</li>
    <li>用户名8-26个字符</li>
    <li>密码为8-20个字符</li>
    <li>邮箱为6-25个字符</li>

  </ul>
</div>




<form class="ui form attached fluid segment" method="POST">
    <div class="two fields">
    <div class="required field">
    <label>Username</label>
    {{ form.username }}  
    {% if form.username.errors %}
    <div class="ui secondary inverted red segment">
          {% for error in form.username.errors %}
            <li>{{ error }}</li>
          {% endfor %}
        
    </div>
    {% endif %}
      
    </div>
    <div class="field"></div>
    </div>
    <div class="two fields">
    <div class="required field">
    <label>Password</label>
    {{ form.password }}
    {% if form.password.errors %}
    <div class="ui secondary inverted red segment">
          {% for error in form.password.errors %}
            <li>{{ error }}</li>
          {% endfor %}
    </div>
    {% endif %}
    </div>
    <div class="field"></div>
    </div>
    <div class="two fields">
    <div class="required field">
    <label>Repeat Password</label>
    {{ form.rptpassword }}
    {% if form.rptpassword.errors %}
    <div class="ui secondary inverted red segment">
          {% for error in form.rptpassword.errors %}
            <li>{{ error }}</li>
          {% endfor %}
    </div>
    {% endif %}
    </div>
    <div class="field"></div>
    </div>
    <div class="two fields">
    <div class="required field">
    <label>Email</label>
    {{ form.email }}
    {% if form.email.errors %}
    <div class="ui secondary inverted red segment">
          {% for error in form.email.errors %}
            <li>{{ error }}</li>
          {% endfor %}
    </div>
    {% endif %}
    </div>
    <div class="field"></div>
    </div>
    <div class="ui green right floated submit button" type="submit" id="login-button">创建</div>
      {{ form.csrf_token }}
</form>










<script>
$(document).ready(function() {
  $('#reg-button').on('click', function(){
      $("form").submit()
    });
});
</script>
{% endblock %}